{
  "db_name": "PostgreSQL",
  "query": "\n        SELECT \n            f.path as \"path!\",\n            t.line_number::int4 as \"line_number!\",\n            t.line_text as \"line_text!\"\n        FROM files f\n        JOIN file_versions fv ON f.latest_version_id = fv.id\n        CROSS JOIN LATERAL unnest(string_to_array(\n            CASE \n                WHEN fv.content_raw ? 'text' THEN fv.content_raw->>'text'\n                WHEN jsonb_typeof(fv.content_raw) = 'string' THEN fv.content_raw #>> '{}'\n                ELSE jsonb_pretty(fv.content_raw) \n            END, \n            E'\\n'\n        )) \n            WITH ORDINALITY AS t(line_text, line_number)\n        WHERE f.workspace_id = $1\n          AND f.deleted_at IS NULL\n          AND ($3::text IS NULL OR f.path ILIKE $3::text)\n          AND (CASE WHEN $4::boolean THEN t.line_text ~ $2 ELSE t.line_text ~* $2 END)\n        ORDER BY f.path, t.line_number\n        LIMIT 1000\n        ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "path!",
        "type_info": "Text"
      },
      {
        "ordinal": 1,
        "name": "line_number!",
        "type_info": "Int4"
      },
      {
        "ordinal": 2,
        "name": "line_text!",
        "type_info": "Text"
      }
    ],
    "parameters": {
      "Left": [
        "Uuid",
        "Text",
        "Text",
        "Bool"
      ]
    },
    "nullable": [
      false,
      null,
      null
    ]
  },
  "hash": "7c57f18c8e26d2171d6ce3d34a1a278c391b9933e46f59cd89ca38863ed7735a"
}
