# Database URL for sqlx CLI
DATABASE_URL=postgresql://buildscale:PASSWORD@localhost:5432/buildscale

# Environment Configuration
# Set to "production" to enable production security features (e.g., Secure cookies)
BUILDSCALE__ENV=development

# Database Configuration for application
BUILDSCALE__DATABASE__USER=buildscale
BUILDSCALE__DATABASE__PASSWORD=PASSWORD
BUILDSCALE__DATABASE__HOST=localhost
BUILDSCALE__DATABASE__PORT=5432
BUILDSCALE__DATABASE__DATABASE=buildscale

# Session Configuration
# Session expiration time in hours (default: 720 = 30 days)
# Also used as maximum extension time for refresh_session()
BUILDSCALE__SESSIONS__EXPIRATION_HOURS=720
# How long to keep revoked tokens for theft detection (default: 1440 minutes = 1 day)
# Recommended: 10-1440 minutes (10 min for minimal storage, 1 day for extended detection)
BUILDSCALE__SESSIONS__REVOKED_TOKEN_RETENTION_MINUTES=1440

# JWT Configuration
# IMPORTANT: Use strong, cryptographically random secrets in production!
# Secret key for signing JWT access tokens (minimum 32 characters required)
BUILDSCALE__JWT__SECRET=BuildScaleJWTDevKeyForAccessTokens32Chars!
# Access token expiration time in minutes (default: 15 minutes)
BUILDSCALE__JWT__ACCESS_TOKEN_EXPIRATION_MINUTES=15
# Secret key for HMAC signing refresh tokens (minimum 32 characters required)
BUILDSCALE__JWT__REFRESH_TOKEN_SECRET=BuildScaleRefreshTokenDevKey32Chars!!@

# Cache Configuration
# User cache TTL in seconds (default: 900 = 15 minutes)
# Matches JWT access token expiration for consistency
# Reduces database queries by caching authenticated user data
BUILDSCALE__CACHE__USER_CACHE_TTL_SECONDS=900

# Static File Serving Configuration
# Path to admin frontend build directory (default: "./admin")
# - Local development (build in place): Use absolute path to frontend/admin/dist
# - Local development (copy to backend): Use relative path "./admin"
# - Docker: "/app/admin" (set automatically in docker-compose.yml)
# - Empty string: disables admin frontend serving (security feature)
#
# Options:
# BUILDSCALE__SERVER__ADMIN_BUILD_PATH=./admin                    # If copying to backend/admin
# BUILDSCALE__SERVER__ADMIN_BUILD_PATH=/Volumes/data/workspace/buildscale-ai/frontend/admin/dist  # If building in place
BUILDSCALE__SERVER__ADMIN_BUILD_PATH=./admin

# Path to web frontend build directory (default: "./web")
# - Local development (build in place): Use absolute path to frontend/web/dist
# - Local development (copy to backend): Use relative path "./web"
# - Docker: "/app/web" (set automatically in docker-compose.yml)
# - Empty string: disables web frontend serving (security feature)
#
# Options:
# BUILDSCALE__SERVER__WEB_BUILD_PATH=./web                      # If copying to backend/web
# BUILDSCALE__SERVER__WEB_BUILD_PATH=/Volumes/data/workspace/buildscale-ai/frontend/web/dist  # If building in place
BUILDSCALE__SERVER__WEB_BUILD_PATH=./web
